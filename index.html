<!doctype html>

<html lang="en">
<head>
    <script type="text/javascript" src="test.js"></script>
  <meta charset="utf-8">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="">

  <link rel="stylesheet" href="style.css">

</head>

<body>
    <div id="side" class="side">

        <p id="xy">Miqez to kumpel</p>
        <p id="map">Miqez to kumpel</p>
        <p id="res">Miqez to kumpel</p>
        <button id="button" onclick="console.log(maps)"></button>
      </div>
      
  <div class="main">
    <img id="atlas" class="zoom" src="atlastest.jpg" />
  </div>

 
 
  <script>
    
     
      var atlas = document.getElementById("atlas");
     
      atlas.addEventListener('mousemove', function (e){
        //html objects
        var xy = document.getElementById("xy");
        var map = document.getElementById("map");
        var res = document.getElementById("res");
        //calculating and showing x/y coords
        var x = e.x;
        var y = e.y;
        var scrolly = window.scrollY;
        var scrolledy = y + scrolly;
        xy.innerHTML = 'x:' + x + ' y:' + scrolledy;
        
        //checking resolution
      var defaultHeight = 969;
      var defaultWidth = 1920;
      var height = window.innerHeight;
      var width = window.innerWidth;
      var heightScaling = defaultHeight/height;
      var widthScaling = defaultWidth/width;
      
      
        
       //checking if a map is being hovered
       for(let i=0; i<maps.length; i++){
        var ax = Math.abs(x - (maps[i].x / heightScaling));
        var ay = Math.abs(scrolledy - (maps[i].y / heightScaling));
        if((ax + ay) < 25) {
          map.innerHTML = maps[i].name + ' map';
          break;
        }
          else map.innerHTML = 'no map';

          if(i==maps.length) i = 0;
       }
     
      
        //map list test
        function listMaps(maps){
          let map_names = [];
          for(let i=0; i<maps.length; i++){
            map_names.push(maps[i].name);
          }
          return map_names;
        }
      //  res.innerHTML = parseInt(ax) + '/' + parseInt(ay) + '<br/>' + (ax+ay);

        
        
         
  
      });
      
     
  </script>
</body>
</html>